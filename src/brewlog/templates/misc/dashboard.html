{% extends "base.html" %}

{% block headpagetitle %}{% trans %}Welcome{% endtrans %}{% endblock %}

{% block announcement %}
{% if announcement %}
<section class="section">
  <div class="content">
    <h2>{{ gettext('announcement').capitalize() }}</h2>
    {{ announcement|safe }}    
  </div>
</section>
{% endif %}
{% endblock %}

{% block content %}
<div class="row my-2">
  <div class="col-12">
    <h2>{% trans %}Welcome to BrewLog{% endtrans %}</h2>
  </div>
</div>
<div class="row my-2">
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}My latest recipes{% endtrans %}</h4>
      <div class="card-body">
        {% if latest_recipes %}
        <ul>
          {% for brew in latest_recipes %}<li><a href="{{ url_for('brew.details', brew_id=brew.id) }}">{{ brew.full_name }}</a></li>{% endfor %}
        </ul>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}My recent reviews{% endtrans %}</h4>
      <div class="card-body">
        {% if recent_reviews %}
        <ul>
          {% for note in recent_reviews %}<li><a href="{{ url_for('brew.details', brew_id=note.brew.id) }}">{{ note.brew.full_name }}</a> - {{ note.date|dateformat("short") }}</li>{% endfor %}
        </ul>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}Recently brewed{% endtrans %}</h4>
      <div class="card-body">
        {% if recently_brewed %}
        <ul>
          {% for brew in recently_brewed %}<li><a href="{{ url_for('brew.details', brew_id=brew.id) }}">{{ brew.full_name }}</a> - {{ brew.date_brewed|dateformat("short") }}</li>{% endfor %}
        </ul>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<div class="row my-2">
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}Fermenting{% endtrans %}</h4>
      <div class="card-body">
        {% if fermenting %}
        <ul>
          {% for brew in fermenting %}<li><a href="{{ url_for('brew.details', brew_id=brew.id) }}">{{ brew.full_name }}</a> - {{ brew.fermentation_start_date|dateformat("short") }}</li>{% endfor %}
        </ul>
        {% else %}
        <p>{% trans %}Nothing{% endtrans %}</p>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}Maturing{% endtrans %}</h4>
      <div class="card-body">
        {% if maturing %}
        <ul>
          {% for brew in maturing %}<li><a href="{{ url_for('brew.details', brew_id=brew.id) }}">{{ brew.full_name }}</a> - {{ brew.bottling_date|dateformat("short") }}</li>{% endfor %}
        </ul>
        {% else %}
        <p>{% trans %}Nothing{% endtrans %}</p>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card border-primary">
      <h4 class="card-header bg-primary text-light">{% trans %}On tap{% endtrans %}</h4>
      <div class="card-body">
        {% if on_tap %}
        <ul>
          {% for brew in on_tap %}<li><a href="{{ url_for('brew.details', brew_id=brew.id) }}">{{ brew.full_name }}</a> - {{ brew.tapped|dateformat("short") }}</li>{% endfor %}
        </ul>
        {% else %}
        <p>{% trans %}Nothing{% endtrans %}</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
